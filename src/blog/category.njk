---
layout: layouts/base.njk
pagination:
  data: collections.postsByCategory
  size: 1
  alias: catData
permalink: "/blog/categorie/{{ catData.name | slugify }}/"
eleventyComputed:
  seo:
    title: "Catégorie : {{ catData.name }}"
    description: "Découvrez tous nos articles dans la catégorie {{ catData.name }}"
---

{% set categoryName = catData.name %}
{% set posts = catData.posts %}

<section id="cover">
    <img src="{{ blog.blog.coverImage }}" alt="">
    <div class="container">
        <div class="page-header">
            <h1 class="section-title">Catégorie : {{ categoryName }}</h1>
            <p>{{ posts | length }} article(s) trouvé(s)</p>
        </div>
    </div>
</section>

<main id="blog-list">
    <section>
        <div class="container">
            <div class="blog-layout">
                <!-- Articles List -->
                <div class="blog-articles">
                    {% for article in posts %}
                        <a href="/blog/{{ article.id }}/" class="article-card">
                            <div class="article-card_image">
                                <img src="{{ article.image }}" alt="{{ article.title }}" loading="lazy">
                            </div>
                            <div class="article-card_content">
                                <div class="article-card_header">
                                    <h2 class="article-card_title">{{ article.title }}</h2>
                                    <span class="article-card_read-time">{{ article.readTime }}</span>
                                </div>
                                <p class="article-card_description">{{ article.description }}</p>
                                <div class="article-card_meta">
                                    <span>{{ article.date | formatDate }}</span> • 
                                    <span class="article-card_category">{{ article.category }}</span>
                                </div>
                            </div>
                        </a>
                    {% endfor %}
                    
                    <div class="back-to-blog">
                        <a href="/blog/" class="btn">← Retour à tous les articles</a>
                    </div>
                </div>

                <!-- Shared Sidebar -->
                <aside class="blog-toc">
                    <h3>Catégories</h3>
                    <nav>
                        <ul>
                            <li class="blog-toc_category">
                                <a href="/blog/">Tous les articles</a>
                            </li>
                            {% for cat in collections.categories %}
                                <li class="blog-toc_category">
                                    <a href="/blog/categorie/{{ cat.name | slugify }}/" {% if cat.name == categoryName %}class="active"{% endif %}>
                                        {{ cat.name }} ({{ cat.count }})
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                    </nav>
                </aside>
            </div>
        </div>
    </section>
</main>
